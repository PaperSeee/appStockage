<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-title>Combat Arena</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="trophy-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="gamification-content">
  <!-- Fighter Status Header -->
  <div class="fighter-card">
    <div class="fighter-profile">
      <div class="avatar-container">
        <img src="assets/default-avatar.jpg" class="fighter-avatar" alt="Fighter avatar">
        <div class="level-badge">Lv.7</div>
      </div>
      <div class="fighter-info">
        <h2 class="fighter-name">Guerrier Intrépide</h2>
        <p class="fighter-title">Ceinture Bleue • 3200 XP</p>
        <div class="xp-container">
          <ion-progress-bar value="0.75" class="xp-bar"></ion-progress-bar>
          <span class="xp-text">3200/4000 XP vers niveau 8</span>
        </div>
      </div>
      <div class="featured-badge">
        <ion-icon name="fist-outline"></ion-icon>
        <span>Roi des jabs</span>
      </div>
    </div>
    
    <div class="stats-container">
      <div class="stat-item">
        <div class="stat-value">45</div>
        <div class="stat-label">Défis</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">128</div>
        <div class="stat-label">Rounds</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">18</div>
        <div class="stat-label">Badges</div>
      </div>
    </div>
  </div>
  
  <!-- Current Challenges Section -->
  <div class="section-container">
    <div class="section-header">
      <h2>Défis en cours</h2>
      <ion-button fill="clear" size="small">
        Voir tout
        <ion-icon name="chevron-forward" slot="end"></ion-icon>
      </ion-button>
    </div>
    
    <div class="challenges-list">
      <!-- Challenge 1 -->
      <ion-card class="challenge-card">
        <div class="challenge-content">
          <div class="challenge-icon" style="background-color: #4c8dff;">
            <ion-icon name="stopwatch-outline"></ion-icon>
          </div>
          <div class="challenge-details">
            <h3 class="challenge-title">Marathon de rounds</h3>
            <p class="challenge-description">Fais 20 rounds cette semaine</p>
            <ion-progress-bar value="0.6" class="challenge-progress"></ion-progress-bar>
            <div class="challenge-stats">
              <span class="progress-text">12/20</span>
              <span class="reward-text">+200 XP</span>
            </div>
          </div>
        </div>
      </ion-card>
      
      <!-- Challenge 2 -->
      <ion-card class="challenge-card">
        <div class="challenge-content">
          <div class="challenge-icon" style="background-color: #eb445a;">
            <ion-icon name="hand-right-outline"></ion-icon>
          </div>
          <div class="challenge-details">
            <h3 class="challenge-title">Chasseur de soumissions</h3>
            <p class="challenge-description">Réussis 5 soumissions en sparring</p>
            <ion-progress-bar value="0.4" class="challenge-progress"></ion-progress-bar>
            <div class="challenge-stats">
              <span class="progress-text">2/5</span>
              <span class="reward-text">+300 XP</span>
            </div>
          </div>
        </div>
      </ion-card>
      
      <!-- Challenge 3 -->
      <ion-card class="challenge-card">
        <div class="challenge-content">
          <div class="challenge-icon" style="background-color: #3dc2ff;">
            <ion-icon name="people-outline"></ion-icon>
          </div>
          <div class="challenge-details">
            <h3 class="challenge-title">Défi local</h3>
            <p class="challenge-description">Sois dans le top 3 des trackeurs de ta ville</p>
            <ion-progress-bar buffer="0.75" value="0.67" class="challenge-progress"></ion-progress-bar>
            <div class="challenge-stats">
              <span class="progress-text">Position: 4e</span>
              <span class="reward-text">Badge "Légende locale"</span>
            </div>
          </div>
        </div>
      </ion-card>
    </div>
    
    <ion-button expand="block" class="track-button">
      <ion-icon name="add-circle-outline" slot="start"></ion-icon>
      Track maintenant
    </ion-button>
  </div>
  
  <!-- Leaderboard Section -->
  <div class="section-container">
    <div class="section-header">
      <h2>Classement</h2>
      <div class="segment-control">
        <ion-segment value="city">
          <ion-segment-button value="friends">
            <ion-label>Amis</ion-label>
          </ion-segment-button>
          <ion-segment-button value="city">
            <ion-label>Ville</ion-label>
          </ion-segment-button>
          <ion-segment-button value="global">
            <ion-label>Monde</ion-label>
          </ion-segment-button>
        </ion-segment>
      </div>
    </div>
    
    <ion-card class="leaderboard-card">
      <ion-list lines="full">
        <ion-item class="leaderboard-item">
          <div class="rank gold">1</div>
          <ion-avatar>
            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Top fighter">
          </ion-avatar>
          <ion-label>
            <h3>Thomas D.</h3>
            <p>Ceinture Noire • 8400 XP</p>
          </ion-label>
          <div class="points">214 pts</div>
        </ion-item>
        
        <ion-item class="leaderboard-item">
          <div class="rank silver">2</div>
          <ion-avatar>
            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Second fighter">
          </ion-avatar>
          <ion-label>
            <h3>Sarah L.</h3>
            <p>Ceinture Marron • 6800 XP</p>
          </ion-label>
          <div class="points">186 pts</div>
        </ion-item>
        
        <ion-item class="leaderboard-item">
          <div class="rank bronze">3</div>
          <ion-avatar>
            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Third fighter">
          </ion-avatar>
          <ion-label>
            <h3>Karim L.</h3>
            <p>Ceinture Marron • 6100 XP</p>
          </ion-label>
          <div class="points">162 pts</div>
        </ion-item>
        
        <ion-item class="leaderboard-item">
          <div class="rank">4</div>
          <ion-avatar>
            <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="Fourth fighter">
          </ion-avatar>
          <ion-label>
            <h3>Nicolas B.</h3>
            <p>Ceinture Bleue • 5400 XP</p>
          </ion-label>
          <div class="points">145 pts</div>
        </ion-item>
        
        <ion-item class="leaderboard-item">
          <div class="rank">5</div>
          <ion-avatar>
            <img src="https://randomuser.me/api/portraits/women/29.jpg" alt="Fifth fighter">
          </ion-avatar>
          <ion-label>
            <h3>Sophie D.</h3>
            <p>Ceinture Bleue • 4900 XP</p>
          </ion-label>
          <div class="points">118 pts</div>
        </ion-item>
        
        <ion-item class="leaderboard-item highlighted">
          <div class="rank user-rank">12</div>
          <ion-avatar>
            <img src="assets/default-avatar.jpg" alt="Your rank">
          </ion-avatar>
          <ion-label>
            <h3>Toi</h3>
            <p>Ceinture Bleue • 3200 XP</p>
          </ion-label>
          <div class="points">87 pts <ion-icon name="arrow-up" color="success"></ion-icon></div>
        </ion-item>
      </ion-list>
      
      <div class="leaderboard-footer">
        <p>Ta position: 12e sur 87 à Paris</p>
        <p><ion-icon name="arrow-up" color="success"></ion-icon> +3 places cette semaine</p>
      </div>
    </ion-card>
  </div>
  
  <!-- Badge Gallery -->
  <div class="section-container">
    <div class="section-header">
      <h2>Tes Badges</h2>
      <ion-button fill="clear" size="small">
        Voir tout
        <ion-icon name="chevron-forward" slot="end"></ion-icon>
      </ion-button>
    </div>
    
    <div class="badges-grid">
      <div class="badge-item">
        <div class="badge-icon unlocked">
          <ion-icon name="accessibility-outline"></ion-icon>
        </div>
        <span class="badge-name">Premiers Gants</span>
      </div>
      
      <div class="badge-item">
        <div class="badge-icon unlocked">
          <ion-icon name="flash-outline"></ion-icon>
        </div>
        <span class="badge-name">Machine à Combos</span>
      </div>
      
      <div class="badge-item">
        <div class="badge-icon unlocked">
          <ion-icon name="shield-outline"></ion-icon>
        </div>
        <span class="badge-name">Survivant</span>
      </div>
      
      <div class="badge-item">
        <div class="badge-icon locked">
          <ion-icon name="flame-outline"></ion-icon>
        </div>
        <span class="badge-name">Feu Sacré</span>
      </div>
      
      <div class="badge-item">
        <div class="badge-icon locked">
          <ion-icon name="medal-outline"></ion-icon>
        </div>
        <span class="badge-name">Champion</span>
      </div>
      
      <div class="badge-item">
        <div class="badge-icon locked">
          <ion-icon name="star-outline"></ion-icon>
        </div>
        <span class="badge-name">Étoile Montante</span>
      </div>
    </div>
  </div>
  
  <!-- Challenge CTA -->
  <div class="section-container">
    <ion-card class="cta-card">
      <div class="cta-content">
        <h2 class="cta-title">Lance un défi à tes amis !</h2>
        <p class="cta-description">Crée un défi personnalisé et invite tes partenaires d'entraînement</p>
        <ion-button expand="block" class="cta-button">
          <ion-icon name="flag-outline" slot="start"></ion-icon>
          Créer un défi
        </ion-button>
      </div>
    </ion-card>
  </div>
  
  <!-- Streak & Mini-stats -->
  <div class="streak-container">
    <div class="streak-card">
      <div class="streak-flame">
        <ion-icon name="flame"></ion-icon>
        <span class="streak-count">5</span>
      </div>
      <div class="streak-text">
        <h3>Série d'entraînement</h3>
        <p>5 jours consécutifs 🔥</p>
      </div>
    </div>
    
    <div class="mini-stats">
      <div class="mini-stat-header">Cette semaine :</div>
      <div class="mini-stat-items">
        <div class="mini-stat-item">
          <ion-icon name="stopwatch-outline"></ion-icon>
          <span>18 rounds</span>
        </div>
        <div class="mini-stat-item">
          <ion-icon name="hand-right-outline"></ion-icon>
          <span>3 soumissions</span>
        </div>
        <div class="mini-stat-item">
          <ion-icon name="thumbs-up-outline"></ion-icon>
          <span>1 high-five virtuel</span>
        </div>
      </div>
    </div>
  </div>
</ion-content>

<!-- Floating button to quickly log activity -->
<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button color="primary">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
  <ion-fab-list side="top">
    <ion-fab-button color="light">
      <ion-icon name="stopwatch-outline"></ion-icon>
    </ion-fab-button>
    <ion-fab-button color="light">
      <ion-icon name="fitness-outline"></ion-icon>
    </ion-fab-button>
    <ion-fab-button color="light">
      <ion-icon name="people-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab-list>
</ion-fab>
