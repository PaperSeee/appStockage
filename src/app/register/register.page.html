<ion-header>
  <ion-toolbar>
    <ion-title>Register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="register-content">
  <div class="register-container">
    <h1 class="auth-title">S'inscrire chez Steedn</h1>

    <form (ngSubmit)="register()" class="register-form">
      <!-- Social Registration -->
      <div class="social-auth-buttons">
        <ion-button expand="block" class="google-button" type="button" (click)="signInWithGoogle()">
          <ion-icon name="logo-google"></ion-icon>
          Continuer avec Google
        </ion-button>
        
        <ion-button expand="block" class="apple-button" type="button" (click)="signInWithApple()">
          <ion-icon name="logo-apple"></ion-icon>
          Continuer avec Apple
        </ion-button>
        
        <div class="social-divider">ou</div>
      </div>

      <!-- Personal Information -->
      <div class="form-section">
        <h3>Informations personnelles</h3>
        
        <div class="form-row">
          <div class="form-group">
            <ion-item class="custom-item">
              <ion-icon name="person-outline" slot="start"></ion-icon>
              <ion-label position="floating">Prénom</ion-label>
              <ion-input [(ngModel)]="user.firstName" name="firstName" type="text" required></ion-input>
            </ion-item>
          </div>
          
          <div class="form-group">
            <ion-item class="custom-item">
              <ion-icon name="people-outline" slot="start"></ion-icon>
              <ion-label position="floating">Nom</ion-label>
              <ion-input [(ngModel)]="user.lastName" name="lastName" type="text" required></ion-input>
            </ion-item>
          </div>
        </div>
        
        <div class="form-group">
          <ion-item class="custom-item">
            <ion-icon name="mail-outline" slot="start"></ion-icon>
            <ion-label position="floating">Email</ion-label>
            <ion-input [(ngModel)]="user.email" name="email" type="email" required></ion-input>
          </ion-item>
        </div>
        
        <div class="form-group">
          <ion-item class="custom-item">
            <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
            <ion-label position="floating">Mot de passe</ion-label>
            <ion-input [(ngModel)]="user.password" name="password" type="password" required></ion-input>
          </ion-item>
        </div>

        <div class="form-group">
          <ion-item class="custom-item">
            <ion-label position="floating">Nom d'utilisateur</ion-label>
            <ion-input [(ngModel)]="user.username" type="text" required></ion-input>
          </ion-item>
          <div *ngIf="!user.username.trim()" class="error-message">
            Le nom d'utilisateur est obligatoire.
          </div>
        </div>
      </div>

      <!-- Sport Information -->
      <div class="form-section">
        <h3>Profil sportif</h3>
        
        <div class="form-group">
          <ion-item class="custom-item">
            <ion-icon name="trophy-outline" slot="start"></ion-icon>
            <ion-label position="stacked">Discipline</ion-label>
            <ion-select [(ngModel)]="user.discipline" name="discipline" interface="popover" placeholder="Sélectionner votre discipline">
              <ion-select-option value="boxe">Boxe</ion-select-option>
              <ion-select-option value="mma">MMA</ion-select-option>
              <ion-select-option value="jiu-jitsu">Jiu-jitsu</ion-select-option>
              <ion-select-option value="muay-thai">Muay Thai</ion-select-option>
              <ion-select-option value="karate">Karaté</ion-select-option>
              <ion-select-option value="judo">Judo</ion-select-option>
              <ion-select-option value="lutte">Lutte</ion-select-option>
            </ion-select>
          </ion-item>
        </div>
        
        <div class="form-group">
          <ion-item class="custom-item">
            <ion-icon name="ribbon-outline" slot="start"></ion-icon>
            <ion-label position="stacked">Niveau</ion-label>
            <ion-select [(ngModel)]="user.level" name="level" interface="popover" placeholder="Sélectionner votre niveau">
              <ion-select-option value="debutant">Débutant</ion-select-option>
              <ion-select-option value="intermediaire">Intermédiaire</ion-select-option>
              <ion-select-option value="avance">Avancé</ion-select-option>
              <ion-select-option value="expert">Expert</ion-select-option>
            </ion-select>
          </ion-item>
        </div>
        
        <div class="form-group">
          <ion-item class="custom-item">
            <ion-icon name="calendar-outline" slot="start"></ion-icon>
            <ion-label position="floating">Âge</ion-label>
            <ion-input [(ngModel)]="user.age" name="age" type="number" min="18" max="100"></ion-input>
          </ion-item>
        </div>
      </div>

      <ion-button expand="block" type="submit" class="register-button">
        <ion-icon name="person-add-outline" slot="start"></ion-icon>
        Créer mon compte
      </ion-button>
    </form>

    <div class="login-prompt">
      <p>Vous avez déjà un compte ?</p>
      <a routerLink="/login">Se connecter</a>
    </div>
  </div>
</ion-content>
